# 网络流二十四式

## 第一式 飞行员配对问题

裸的网络流

但是存在要求需要打印出配对方案

方法是建立邻接矩阵，初始的时候全部置-1，如果跑完网络流之后为0，那么表示这条边流过了

其实备份原图也可以，如果初始的边有流量，跑完之后发现为0，那么表示这条边流过了

## 第二式 负载平衡问题

神奇的费用流

通过建立超级源点和超级汇点来约束整个图的流值

之后在内部的n个点上建立费用为1的流

跑完之后的费用一定就是答案

## 第三式 软件补丁问题

假的网络流。。应该用状态压缩+dijkstra来做

## 第四式 试题库问题

关于一个对象只可以使用一次，但是可以选择贡献到多个地方的特性，可以从源向它连一条边

在打印路径的时候我犯蠢了。。以为关心的试题连向的边如果流为0那么一定是选定的方向。。。

但是忘记了反向边，导致这个点连向0点的情况没有考虑

## 第五式 餐巾计划问题

由于存在干净餐巾以及脏餐巾，所以有必要拆点，将每一天拆分为上午和下午

下午用来处理脏纸巾问题，每天用过的脏纸巾，可以使用从源点连向下午给出流；如果不进行拆点，可以发现整个流网络中处理的只有干净纸巾而没有脏纸巾，所以不可行！

## 第六式 最小割问题

* 其实就是网络流的对偶问题啊！

  首先回想一下网络流的相关定义，是针对一个运输网络，要求其中能多能从源点给汇点多少流量

  而对于最小割问题，是每一条边都有一个权值，要求选出这样的两个边集，使得两个边集中被选中的边的权值最小，并且使得源点与汇点不连通 

  于是求一个网络的最小割，实际上就是求该网络的最大流！

* 割边的求法

  假如一共有k条割边，那么该问题的复杂度就是$O(k\times O(\text{maxFlow}))$

  具体的做法是首先跑一遍Dinic，求出最大流

  之后枚举每一条边进行删除如果发现删除该边之后的网络流量加上该边等于第一次求的网络流，那么该边一定是割边；于是就可以将其删除，同时更新流量

* 如何求得数目最少的割边

  ![minCut](/Users/qinhongbo/Desktop/Github/For-that-dream/专题/网络流/minCut.png)

  如图所示，如果在进行选择割边的时候不对边进行排序，那么有可能选择到左边的两个容量为40的边

  而在排序了之后，只会选择到容量为80的一条边，达到选择数目最少的割边的目的